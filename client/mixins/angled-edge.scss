// Angled edge mixin which supports at most two edges
// By convention top and left edges are done with ::before pseudoelement
// and bottom and right with an ::after pseudolement
// TODO: think of a way to override this to have a right and bottom edge
// TODO: add math library and replace with trigonometry

$default-angled-edge-elems: (
  top: before,
  left: before,
  right: after,
  bottom: after
);

@mixin angled-edge($position, $angle, $pseudo-element: map-get($default-angled-edge-elems, $position)) {
  position: relative;
  z-index: 2;
  &::before, &::after {
    content: '';
    z-index: 1;
    background: inherit;
    position: absolute;
    display: block;
    width: 100%;
    height: 100%;
    // top: 0;
    // bottom: 0;
    // left: 0;
    // right: 0;

  }

  @if $position == bottom {
    &::#{$pseudo-element} {
      transform: skewY($angle);
      // height: 8.7%; // of the div's width
      @if $angle > 0deg {
        transform-origin: top left;
      } @else {
        transform-origin: top right;
      }
    }
  }
  @if $position == top {
    &::#{$pseudo-element} {
      transform: skewY($angle);
      @if $angle > 0deg {
        transform-origin: top right;
      } @else {
        transform-origin: top left;
      }
    }
  }

  @if $position == left {
    // TODO: left edge
  }

  @if $position == right {
    // TODO: right edge
  }
}


.bottom-30-deg {
  background: linear-gradient(90deg, lightblue, turquoise);
  @include angled-edge(top, -5deg);
  @include angled-edge(bottom, -5deg);
}